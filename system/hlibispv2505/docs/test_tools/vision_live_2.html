<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>VisionLive and ISPC_tcp &mdash; ISP DDK 2.8.4 documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fonts/open-sans/open-sans-font.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.8.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/img.ico"/>
    <link rel="top" title="ISP DDK 2.8.4 documentation" href="../index.html" />
    <link rel="up" title="Test Tools" href="test_tools.html" />
    <link rel="next" title="VisionTuning" href="vision_tuning.html" />
    <link rel="prev" title="Sensor Test application sensor_test" href="other_tools.html" /> 
  </head>
  <body role="document">
<div id="HeaderContainer">
    <div id="Header">
        <div id="HeaderContent">
            <div id="HeaderLogo">
                <a href="../index.html"><img src="../_static/images/doc-logo.png" /></a>
            </div>
            <div id="ProjectName">
                ISP DDK
            </div>
        </div>
        <div id="searchbox">
            <form class="search" action="../search.html" method="get">
              <input type="text" name="q" size="12" />
              <input type="submit" value="">
            </form>
        </div>
      <div class="clearer"></div>
    </div>
</div>
<div id="NavContainer">
<nav>
    <ul>
        <li id="NavCurrent"><a href="../index.html">Documents</a></li>
        <li><a href="../index/../doxygen/index.html">Source</a>
        <ul>
          <li><a href="../index/../doxygen/pages.html">Related pages</a></li>
          <li><a href="../index/../doxygen/modules.html">Modules</a></li>
          <li><a href="../index/../doxygen/namespaces.html">Namespaces</a></li>
          <li><a href="../index/../doxygen/annotated.html">Data structures</a></li>
          <li><a href="../index/../doxygen/files.html">Files</a></li>
        </ul>
        </li>
    </ul>
</nav>

<div class="clearer"></div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="vision_tuning.html" title="VisionTuning"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="other_tools.html" title="Sensor Test application sensor_test"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="test_tools.html" accesskey="U">Test Tools</a> &raquo;</li><li>VisionLive and ISPC_tcp</li>
      </ul>
    </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="visionlive-and-ispc-tcp">
<span id="isp-visionlive-2-0"></span><h1>VisionLive and ISPC_tcp<a class="headerlink" href="#visionlive-and-ispc-tcp" title="Permalink to this headline">¶</a></h1>
<p>The live tuning tool is designed to allow the ISP to be fully embedded in
the target device whilst allowing the tuning tool to run on a system with a
large screen and a rich GUI environment. For this reason the tools are split
into the ISPC_tcp component, which runs on the target device and the
VisionLive component which runs on a PC. The communication occurs on the
network through TCP/IP.</p>
<p>The VisionLive application starts with default parameters as well as
ISPC_tcp application so there is no need for preparing a parameter file to
run the application. After the application has been run the parameter file
can always be loaded using &#8220;File/Load Configuration&#8221; option. The parameters
adjusted in VisionLive are transmitted to the ISPC_tcp application which
applies these to the ISP. The resulting image can be observed in the
&#8220;<a class="reference internal" href="#isp-vl2-livefeedview"><span>LiveFeedView</span></a>&#8221;.
Frames can also be captured using the &#8220;Record&#8221; button (see
<a class="reference internal" href="#isp-vl2-imageviewcontrols"><span>ImageViewControls</span></a> details). The captured frames can be used
for offline analysis/calibration or viewing. The user is expected to use
VisionLive to capture the frames for tuning, using &#8220;Tune&#8221; buttons in
specific modules.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Due to limitations of the network bandwidth FPS ratio may be very low.
To increase FPS ratio one can try switching from RGB to YUV format
and/or decreasing image size.</p>
</div>
<p>The ISPC_tcp application is very similar to the ISPC_loop application
detailed in the <a class="reference internal" href="ispc_loop.html#isp-ispc-loop"><span>ISPC loop application: ISPC_loop</span></a> section. At any point in time the
current configuration can be saved as a Felix Setup Args file (see the
<a class="reference internal" href="../ispc/ispc_library.html#isp-ispcl-high-level-parameters"><span>High level parameters</span></a> documents for details) using the
&#8220;File/Save Configuration&#8221; option.</p>
<p>The version of the tool used is available in the &#8220;Help/About VisionLive&#8221; menu.</p>
<p>VisionLive contains four main components as displayed in Figure
<a class="reference internal" href="#isp-vl2-mainwindow-fig"><span>MainWindow</span></a>:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#isp-vl2-imageview"><span>ImageView</span></a></li>
<li><a class="reference internal" href="#isp-vl2-moduleview"><span>ModuleView</span></a></li>
<li><a class="reference internal" href="#isp-vl2-logview"><span>LogView</span></a></li>
<li><a class="reference internal" href="#isp-vl2-capturepreview"><span>CapturePreview</span></a></li>
</ul>
</div></blockquote>
<div class="figure align-center" id="id2">
<span id="isp-vl2-mainwindow-fig"></span><a class="reference internal image-reference" href="../_images/VL2_MainWindow.png"><img alt="../_images/VL2_MainWindow.png" src="../_images/VL2_MainWindow.png" style="width: 578.4px; height: 324.0px;" /></a>
<p class="caption"><span class="caption-text">MainWindow</span></p>
</div>
<p>ImageView, ModuleView and LogView components are separated from each other
by splitters so the size of each component can be adjusted without the
hidden id. By default splitters are set so only the ImageView component is
visible and ModuleView and LogView are hidden. To show hidden components or
adjust their size just press and hold the splitter and drag it across the
window.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">ModuleView component will automatically appear when selecting module
from &#8220;View/Module Access&#8221; menu.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that splitters look different on different operating systems.
For example on Windows it&#8217;s represented as wide white line, while on
Linux it&#8217;s represented as three white dots.</p>
</div>
<div class="section" id="running-steps">
<span id="isp-vl2-running-steps"></span><h2>Running steps<a class="headerlink" href="#running-steps" title="Permalink to this headline">¶</a></h2>
<p>The first step is to launch the GUI application. This provides the settings
that will be used by the ISPC_tcp application. There are no parameters
required so simply run VisionLive using &#8220;Connection/Connect&#8221; option. The GUI
has a number of tabs which allow a user to tune various aspects of the ISP,
these should be familiar to an experienced ISP engineer.</p>
<p>Once the GUI starts up a connection should be open, so that the <code class="docutils literal"><span class="pre">ISPC_tcp</span></code>
can connect to the GUI to receive the configuration. Use the
&#8220;Connection/Connect&#8221; option to start one (see Figure
<a class="reference internal" href="#isp-vl2-new-connection-fig"><span>Start connection dialog</span></a>) and select the desired port. Be aware
that VisionLive uses 2 separate ports for connection. One for sending
commands to ISPC_tcp and second (selected port + 1) to receive frames for
&#8220;<a class="reference internal" href="#isp-vl2-livefeedview"><span>LiveFeedView</span></a>&#8221;. If there is problem in connecting be sure
that both port numbers are free. After accepting connection settings
awaiting connection from ISPC_tcp window will popup (see Figure
<a class="reference internal" href="#isp-vl2-awaiting-connection-fig"><span>Awaiting connection dialog</span></a>).</p>
<div class="figure align-center" id="id3">
<span id="isp-vl2-new-connection-fig"></span><a class="reference internal image-reference" href="../_images/VL2_new_connection.png"><img alt="../_images/VL2_new_connection.png" src="../_images/VL2_new_connection.png" style="width: 216.0px; height: 128.0px;" /></a>
<p class="caption"><span class="caption-text">Start connection dialog</span></p>
</div>
<div class="figure align-center" id="id4">
<span id="isp-vl2-awaiting-connection-fig"></span><a class="reference internal image-reference" href="../_images/VL2_awaiting_connection.png"><img alt="../_images/VL2_awaiting_connection.png" src="../_images/VL2_awaiting_connection.png" style="width: 376.0px; height: 132.0px;" /></a>
<p class="caption"><span class="caption-text">Awaiting connection dialog</span></p>
</div>
<p>Once the GUI is waiting for a connection the ISPC_tcp should be
started (see section <a class="reference internal" href="#isp-vl2-ispc-tcp-options"><span>ISPC_tcp options</span></a> for details).
For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>./ISPC_tcp -sensor AR330 -setupIP localhost -setupPort 2346
</pre></div>
</div>
</div>
<div class="section" id="ispc-tcp-options">
<span id="isp-vl2-ispc-tcp-options"></span><h2>ISPC_tcp options<a class="headerlink" href="#ispc-tcp-options" title="Permalink to this headline">¶</a></h2>
<p>The ISPC_tcp options are very similar to the ones described in the
<a class="reference internal" href="test_tools.html#isp-test-tools"><span>Test Tools</span></a> document for the <a class="reference internal" href="ispc_loop.html#isp-ispc-loop"><span>ISPC loop application: ISPC_loop</span></a> with the
addition of the connection information. It is important that the sensor has
been ported in the sensor API to be used with that tool.</p>
<p>Refer to the Sensor API doxygen documentation in the DDK and the
<a class="reference internal" href="../integration/platform.html#isp-platform-integration-guide"><span>Platform Integration Guide</span></a> for more information on how to add a
sensor. It is possible to run the ISPC_tcp using the Data Generator
(external or internal) if the platform supports it, but it isn’t possible to
run that tool against the simulator for latency reasons.</p>
<p>The parameters can be given by command line or in a configuration file.</p>
<p>The parameter types are:</p>
<ul class="simple">
<li><cite>Bool</cite>: a Boolean value of either 0 or 1</li>
<li><cite>Int</cite>/<cite>UInt</cite>: an integer (signed or unsigned is parameter specific)</li>
<li><cite>Cmd</cite>: command that act as a Boolean of value 1 if present, of value 0 if
not found</li>
<li><cite>Str</cite>: string or path</li>
<li><cite>Float</cite>: floating point number</li>
</ul>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">-source</span></code>:</dt>
<dd>Provide a file to parse for command line parameters. The latest given
parameter is used as the value for the option.</dd>
<dt><code class="docutils literal"><span class="pre">-h</span></code>:</dt>
<dd>Display the help and exit.</dd>
</dl>
<div class="section" id="sensor-controls">
<span id="isp-vl2-ispc-tcp-options-sensor-controls"></span><h3>Sensor controls<a class="headerlink" href="#sensor-controls" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">-sensor</span></code>: Str</dt>
<dd><p class="first">Sensor to use. Available sensors are:</p>
<ul class="simple">
<li>&#8220;External Datagen&#8221;</li>
<li>&#8220;IIF Datagen&#8221;</li>
<li>AR330</li>
<li>P401</li>
<li>OV4688</li>
</ul>
<p>Obviously this needs the actual sensor to be present. The
<a class="reference internal" href="../integration/platform.html#isp-platform-integration-guide"><span>Platform Integration Guide</span></a> has more details about adding
support for more sensors.</p>
<p class="last">If using either data-generator the <code class="docutils literal"><span class="pre">–DG_inputFLX</span></code> should specified the
source file.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-sensorMode</span></code>: UInt</dt>
<dd><p class="first">The mode to run for the selected sensor. Each sensor can have several
modes (e.g. to have different resolution or speed). Refer to the Sensor
API documentation for more details.</p>
<p class="last">Default 0.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-sensorFlip</span></code>: Bool [x2]</dt>
<dd><p class="first">Flip the sensor horizontally and vertically. Not all sensors and modes
support flipping.</p>
<p class="last">If only 1 value is given it is assumed to be a horizontal flip.</p>
</dd>
</dl>
</div>
<div class="section" id="data-generator-parameters">
<span id="isp-vl2-ispc-tcp-options-data-generator-controls"></span><h3>Data Generator Parameters<a class="headerlink" href="#data-generator-parameters" title="Permalink to this headline">¶</a></h3>
<p>If using either data generator these parameters can be used.
The internal or external data-generator choice is made with the <code class="docutils literal"><span class="pre">-sensor</span></code>
value.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">-DG_inputFLX</span></code>: Str</dt>
<dd>If using either Datagen sensors it is the path to the FLX input file to
use. Similar to <code class="docutils literal"><span class="pre">-DGX_inputFLX</span></code> and <code class="docutils literal"><span class="pre">-IntDGX_inputFLX</span></code> in
<a class="reference internal" href="ispc_test.html#isp-ispc-test-parameters"><span>ISPC_test</span></a>.</dd>
<dt><code class="docutils literal"><span class="pre">-DG_gasket</span></code>: Str</dt>
<dd>Gasket to use with the data-generator. Similar to <code class="docutils literal"><span class="pre">-IntDGX_gasket</span></code> or
DG number in <a class="reference internal" href="ispc_test.html#isp-ispc-test-parameters"><span>ISPC_test</span></a>.</dd>
<dt><code class="docutils literal"><span class="pre">-DG_blanking</span></code>: UInt [x2]</dt>
<dd><p class="first">Horizontal and vertical blanking in pixels for the data-generator.
Similar to <code class="docutils literal"><span class="pre">–DGX_blanking</span></code> or <code class="docutils literal"><span class="pre">–IntDGX_blanking</span></code> in
<a class="reference internal" href="ispc_test.html#isp-ispc-test-parameters"><span>ISPC_test</span></a>.</p>
<p class="last">If only 1 value is specified it is assumed to be the horizontal blanking.</p>
</dd>
</dl>
</div>
<div class="section" id="fake-interface-only">
<span id="isp-vl2-ispc-tcp-options-fake-driver-controls"></span><h3>Fake interface only<a class="headerlink" href="#fake-interface-only" title="Permalink to this headline">¶</a></h3>
<p>These parameters are related to the CSIM or functionalities available to the
fake driver only.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">-simIP</span></code>: Str</dt>
<dd><p class="first">Simulator IP address when using the Fake interface with TCP/IP.</p>
<p class="last">Default is localhost.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">-simPort</span></code>: UInt</dt>
<dd><p class="first">Simulator port when using Fake interface with TCP/IP.</p>
<p class="last">Default is 2345.</p>
</dd>
</dl>
</div>
<div class="section" id="v2500-controls">
<span id="isp-vl2-ispc-tcp-options-v2500-controls"></span><h3>V2500 controls<a class="headerlink" href="#v2500-controls" title="Permalink to this headline">¶</a></h3>
<p>These controls are the same as the <a class="reference internal" href="ispc_loop.html#isp-ispc-loop"><span>ISPC_loop</span></a>
V2500 controls with the exception of the setupFile which will be
replaced by connection controls.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">-nBuffers</span></code>: UInt</dt>
<dd><p class="first">Number of pre-allocated buffers to run with. Also used as the number of
data-generator buffers. Similar to <code class="docutils literal"><span class="pre">-CTX_nBuffers</span></code> in
<a class="reference internal" href="ispc_test.html#isp-ispc-test-parameters"><span>ISPC_test</span></a>.</p>
<p class="last">Default is 2.</p>
</dd>
</dl>
</div>
<div class="section" id="connection-controls">
<span id="isp-vl2-ispc-tcp-options-connection-controls"></span><h3>Connection controls<a class="headerlink" href="#connection-controls" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">-setupIP</span></code>: Str</dt>
<dd>IP of the computer running the VisionLive tool.</dd>
<dt><code class="docutils literal"><span class="pre">-setupPort</span></code>: UInt</dt>
<dd>Port open by the VisionLive when starting the connection.</dd>
</dl>
</div>
</div>
<div class="section" id="imageview">
<span id="isp-vl2-imageview"></span><h2>ImageView<a class="headerlink" href="#imageview" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id5">
<span id="isp-vl2-imageview-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ImageView.png"><img alt="../_images/VL2_ImageView.png" src="../_images/VL2_ImageView.png" style="width: 585.6px; height: 420.0px;" /></a>
<p class="caption"><span class="caption-text">ImageView</span></p>
</div>
<p>ImageView contains three main components as displayed in Figure
<a class="reference internal" href="#isp-vl2-imageview-fig"><span>ImageView</span></a>:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#isp-vl2-imageviewcontrols"><span>ImageViewControls</span></a></li>
<li><a class="reference internal" href="#isp-vl2-livefeedview"><span>LiveFeedView</span></a></li>
<li><a class="reference internal" href="#isp-vl2-showview"><span>ShowView</span></a></li>
</ul>
</div></blockquote>
<div class="section" id="imageviewcontrols">
<span id="isp-vl2-imageviewcontrols"></span><h3>ImageViewControls<a class="headerlink" href="#imageviewcontrols" title="Permalink to this headline">¶</a></h3>
<p>ImageViewControls is a toolbar which offers faster access to menu options.
It contains 16 buttons divided in 4 groups which allows a user to handle
connection, livefeed control, image format control and ShowView widget
selection as shown in Figure <a class="reference internal" href="#isp-vl2-imageviewcontrols-fig"><span>ImageViewControls</span></a>.</p>
<div class="figure align-center" id="id6">
<span id="isp-vl2-imageviewcontrols-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ImageViewControls.png"><img alt="../_images/VL2_ImageViewControls.png" src="../_images/VL2_ImageViewControls.png" style="width: 671.0px; height: 113.0px;" /></a>
<p class="caption"><span class="caption-text">ImageViewControls</span></p>
</div>
<p>ImageViewControls buttons description as displayed in Figure
<a class="reference internal" href="#isp-vl2-imageviewcontrols-fig"><span>ImageViewControls</span></a>:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Connect - Starts new connection (accessible also from &#8220;Connection&#8221; menu)</li>
<li>Disconnect - Stops connection (accessible also from &#8220;Connection&#8221; menu)</li>
<li>Resume - Resumes receiving images captured by ISP and updating
<a class="reference internal" href="#isp-vl2-livefeedview"><span>LiveFeedView</span></a> frames</li>
<li>Pause - Stops receiving images captured by ISP (<a class="reference internal" href="#isp-vl2-livefeedview"><span>LiveFeedView</span></a> frames are not updated but ISP is still capturing
frames and all control algorithms are still processing frames)</li>
<li>Record - Captures specified number of frames which can then be viewed in
<a class="reference internal" href="#isp-vl2-capturepreview"><span>CapturePreview</span></a> by selecting a specific
snapshot in <a class="reference internal" href="#isp-vl2-capturegallery"><span>CaptureGallery</span></a></li>
<li>Specifies the number of frames that will be recorded by the &#8220;Record&#8221; button.</li>
<li>YUV - Select YUV format of <a class="reference internal" href="#isp-vl2-livefeedview"><span>LiveFeedView</span></a>
image</li>
<li>RGB - Select RGB format of <a class="reference internal" href="#isp-vl2-livefeedview"><span>LiveFeedView</span></a>
image</li>
<li>DE - Select Data Extraction format of <a class="reference internal" href="#isp-vl2-livefeedview"><span>LiveFeedView</span></a> image</li>
<li>CaptureGallery - Selects <a class="reference internal" href="#isp-vl2-capturegallery"><span>CaptureGallery</span></a>
to be viewed in <a class="reference internal" href="#isp-vl2-showview"><span>ShowView</span></a> component</li>
<li>HardwareInfo - Selects <a class="reference internal" href="#isp-vl2-hardwareinfo"><span>HardwareInfo</span></a> to be
viewed in <a class="reference internal" href="#isp-vl2-showview"><span>ShowView</span></a> component</li>
<li>Histogram - Selects <a class="reference internal" href="#isp-vl2-histogram"><span>Histogram</span></a> to be viewed
in <a class="reference internal" href="#isp-vl2-showview"><span>ShowView</span></a> component</li>
<li>Vectorscope - Selects <a class="reference internal" href="#isp-vl2-vectorscope"><span>Vectorscope</span></a> to be viewed
in <a class="reference internal" href="#isp-vl2-showview"><span>ShowView</span></a> component</li>
<li>LineView - Selects <a class="reference internal" href="#isp-vl2-lineview"><span>LineView</span></a> to be viewed in
<a class="reference internal" href="#isp-vl2-showview"><span>ShowView</span></a> component</li>
<li>Switches between &#8220;Horizontal&#8221; and &#8220;Vertical&#8221; mode of <a class="reference internal" href="#isp-vl2-lineview"><span>LineView</span></a></li>
<li>DPF - Selects <a class="reference internal" href="#isp-vl2-dpf"><span>DPF</span></a> to be viewed in <a class="reference internal" href="#isp-vl2-showview"><span>ShowView</span></a> component</li>
</ol>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Selecting DPF without properly setting <a class="reference internal" href="#isp-vl2-moduledpf"><span>DPF</span></a>
module will result in no action (no DPF point will be marked on
<a class="reference internal" href="#isp-vl2-livefeedview"><span>LiveFeedView</span></a> image).</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that selecting image format that is not supported in <a class="reference internal" href="#isp-vl2-moduleout"><span>OUT</span></a> module will result in not receiving any image
(<a class="reference internal" href="#isp-vl2-livefeedview"><span>LiveFeedView</span></a> frames will not be updated)
and an appropriate warning will be put into the log for every frame.</p>
</div>
</div>
<div class="section" id="livefeedview">
<span id="isp-vl2-livefeedview"></span><h3>LiveFeedView<a class="headerlink" href="#livefeedview" title="Permalink to this headline">¶</a></h3>
<p>This component shows live feed from camera sensor and on top of it displays
information about the frame (format, mosaic and size), fps ratio (calculated
based on 10 frames), pixel color values and signal to noise ratio
(calculated from selected region). A preview of the window is displayed in
Figure <a class="reference internal" href="#isp-vl2-livefeedview-fig"><span>LiveFeedView</span></a>.</p>
<div class="figure align-center" id="id7">
<span id="isp-vl2-livefeedview-fig"></span><a class="reference internal image-reference" href="../_images/VL2_LiveFeedView.png"><img alt="../_images/VL2_LiveFeedView.png" src="../_images/VL2_LiveFeedView.png" style="width: 517.5px; height: 390.5px;" /></a>
<p class="caption"><span class="caption-text">LiveFeedView</span></p>
</div>
<p>To display pixel information simply click on the image (left mouse button).
If the selection is inside of the frame the selected pixel will be marked
and information will appear containing pixel coordinates and colour values.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that pixel information depends on the selected image type. For
RGB the values are the following: blue, green, and red; for YUV: Y, Cb,
Cr and for DE: red, green1, green2, blue.</p>
</div>
<p>To display SNR ratio click and hold (left mouse button) on the image. Then
move across the image to select region. The selected region will be marked
with white rectangle and SNR information will be displayed in the top left
corner of the image, below FPS information. Noise information consists of
AVG (average pixel values) and SNR (signal to noise ratio in [dB] (SNR =
20log10(AVG/SDEV))), where SDEV is standard deviation of pixel values. AVG,
SDEV and SNR are given per channel. To remove SNR information and selected
region marking simply click on the image (right mouse button).</p>
</div>
<div class="section" id="showview">
<span id="isp-vl2-showview"></span><h3>ShowView<a class="headerlink" href="#showview" title="Permalink to this headline">¶</a></h3>
<p>ShowView is a component that displays widgets selected with
<a class="reference internal" href="#isp-vl2-imageviewcontrols"><span>ImageViewControls</span></a> with exeption of DPF.
DPF points markings are displayed directly on the imge. As default ShowView
component is hidden when no widget is selected.</p>
<div class="section" id="capturegallery">
<span id="isp-vl2-capturegallery"></span><h4>CaptureGallery<a class="headerlink" href="#capturegallery" title="Permalink to this headline">¶</a></h4>
<p>CaptureGallery widget holds all recorded captures and displays them and
miniatures. After recording, the CaptureGallery widget opens automatically
without directly selecting it from <a class="reference internal" href="#isp-vl2-imageviewcontrols"><span>ImageViewControls</span></a> as displayed in Figure
<a class="reference internal" href="#isp-vl2-showview-capturegallery-fig"><span>ShowView - CaptureGallery</span></a>.</p>
<div class="figure align-center" id="id8">
<span id="isp-vl2-showview-capturegallery-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ShowView_CaptureGallery.png"><img alt="../_images/VL2_ShowView_CaptureGallery.png" src="../_images/VL2_ShowView_CaptureGallery.png" style="width: 483.0px; height: 648.0px;" /></a>
<p class="caption"><span class="caption-text">ShowView - CaptureGallery</span></p>
</div>
<p>Every CaptureGallery item contains a context menu that allows the user to
open a <a class="reference internal" href="#isp-vl2-capturepreview"><span>CapturePreview</span></a> window of specified
recording, save recorded frames to disc in JPEG or FLX format, save
configuration of the recording and removing selected item. It is also
possible to open item simply by
double clicking it.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that saving an item containing multiple frames in JPEG format
will result in creating multiple files on disc, each containing one
frame. Saving the same item in FLX format will result in creating one
file containing all captured frames.</p>
</div>
</div>
<div class="section" id="hardwareinfo">
<span id="isp-vl2-hardwareinfo"></span><h4>HardwareInfo<a class="headerlink" href="#hardwareinfo" title="Permalink to this headline">¶</a></h4>
<p>This widget displays many hardware information taken from ISP just after
connection as displayed in Figure <a class="reference internal" href="#isp-vl2-showview-hardwareinfo-fig"><span>ShowView - HardwareInfo</span></a>.</p>
<div class="figure align-center" id="id9">
<span id="isp-vl2-showview-hardwareinfo-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ShowView_HardwareInfo.png"><img alt="../_images/VL2_ShowView_HardwareInfo.png" src="../_images/VL2_ShowView_HardwareInfo.png" style="width: 483.0px; height: 648.0px;" /></a>
<p class="caption"><span class="caption-text">ShowView - HardwareInfo</span></p>
</div>
</div>
<div class="section" id="histogram">
<span id="isp-vl2-histogram"></span><h4>Histogram<a class="headerlink" href="#histogram" title="Permalink to this headline">¶</a></h4>
<p>This widget displays histogram of the current frame and is updated
every frame as in Figure <a class="reference internal" href="#isp-vl2-showview-histogram-fig"><span>ShowView - Histogram</span></a>.</p>
<div class="figure align-center" id="id10">
<span id="isp-vl2-showview-histogram-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ShowView_Histogram.png"><img alt="../_images/VL2_ShowView_Histogram.png" src="../_images/VL2_ShowView_Histogram.png" style="width: 483.0px; height: 648.0px;" /></a>
<p class="caption"><span class="caption-text">ShowView - Histogram</span></p>
</div>
</div>
<div class="section" id="vectorscope">
<span id="isp-vl2-vectorscope"></span><h4>Vectorscope<a class="headerlink" href="#vectorscope" title="Permalink to this headline">¶</a></h4>
<p>This widget displays pixel colours in HSV format and is updated every frame
as in Figure <a class="reference internal" href="#isp-vl2-showview-vectorscope-fig"><span>ShowView - Vectorscope</span></a>.</p>
<div class="figure align-center" id="id11">
<span id="isp-vl2-showview-vectorscope-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ShowView_Vectorscope.png"><img alt="../_images/VL2_ShowView_Vectorscope.png" src="../_images/VL2_ShowView_Vectorscope.png" style="width: 483.0px; height: 648.0px;" /></a>
<p class="caption"><span class="caption-text">ShowView - Vectorscope</span></p>
</div>
<p>The Vectorscope is generated from every 10th pixel from each line of the
image. The Vectorscope contains only one line per hue (H) value (max 360
lines) of the highest saturation (S) value.</p>
</div>
<div class="section" id="lineview">
<span id="isp-vl2-lineview"></span><h4>LineView<a class="headerlink" href="#lineview" title="Permalink to this headline">¶</a></h4>
<p>This widget displays a pixel color graph of a selected line and is updated
every frame. Selected line is marked with white line on the
<a class="reference internal" href="#isp-vl2-livefeedview"><span>LiveFeedView</span></a> image as displayed in Figure
<a class="reference internal" href="#isp-vl2-showview-lineview-fig"><span>ShowView - LineView</span></a>.</p>
<div class="figure align-center" id="id12">
<span id="isp-vl2-showview-lineview-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ShowView_LineView.png"><img alt="../_images/VL2_ShowView_LineView.png" src="../_images/VL2_ShowView_LineView.png" style="width: 483.0px; height: 648.0px;" /></a>
<p class="caption"><span class="caption-text">ShowView - LineView</span></p>
</div>
<p>Line selection is done simply by clicking on the image. The LineView can be
presented in &#8220;Horizontal&#8221; and &#8220;Vertical&#8221; modes by selecting mode in
<a class="reference internal" href="#isp-vl2-imageviewcontrols"><span>ImageViewControls</span></a>. The bottom horizontal
white line of the LineView widget marks minimum colour value (0) of the
pixel while the top of the vertical white line marks maximum colour value
(255) of the pixel. The vertical line also marks selected pixel location on
the graph.</p>
</div>
<div class="section" id="dpf">
<span id="isp-vl2-dpf"></span><h4>DPF<a class="headerlink" href="#dpf" title="Permalink to this headline">¶</a></h4>
<p>When the DPF option is selected defective pixels will be marked on the image
by red dots and will be updated for every frame as seen in Figure
<a class="reference internal" href="#isp-vl2-showview-dpf-fig"><span>ShowView - DPF</span></a>.</p>
<div class="figure align-center" id="id13">
<span id="isp-vl2-showview-dpf-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ShowView_DPF.png"><img alt="../_images/VL2_ShowView_DPF.png" src="../_images/VL2_ShowView_DPF.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ShowView - DPF</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Selecting DPF without properly setting <a class="reference internal" href="#isp-vl2-moduledpf"><span>DPF</span></a>
module will result in no action (no DPF point will be marked on
<a class="reference internal" href="#isp-vl2-livefeedview"><span>LiveFeedView</span></a> image).</p>
</div>
</div>
</div>
</div>
<div class="section" id="moduleview">
<span id="isp-vl2-moduleview"></span><h2>ModuleView<a class="headerlink" href="#moduleview" title="Permalink to this headline">¶</a></h2>
<p>ModuleView contains following modules:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#isp-vl2-moduleout"><span>OUT</span></a></li>
<li><a class="reference internal" href="#isp-vl2-moduleexposure"><span>Exposure</span></a></li>
<li><a class="reference internal" href="#isp-vl2-modulefocus"><span>Focus</span></a></li>
<li><a class="reference internal" href="#isp-vl2-moduleblc"><span>BLC</span></a></li>
<li><a class="reference internal" href="#isp-vl2-modulewbc"><span>WBC</span></a></li>
<li><a class="reference internal" href="#isp-vl2-modulelsh"><span>LSH</span></a></li>
<li><a class="reference internal" href="#isp-vl2-modulelca"><span>LCA</span></a></li>
<li><a class="reference internal" href="#isp-vl2-modulenoise"><span>Noise</span></a></li>
<li><a class="reference internal" href="#isp-vl2-moduledpf"><span>DPF</span></a></li>
<li><a class="reference internal" href="#isp-vl2-moduletnm"><span>TNM</span></a></li>
<li><a class="reference internal" href="#isp-vl2-modulemie"><span>MIE</span></a></li>
<li><a class="reference internal" href="#isp-vl2-modulevib"><span>VIB</span></a></li>
<li><a class="reference internal" href="#isp-vl2-moduler2y"><span>R2Y</span></a></li>
<li><a class="reference internal" href="#isp-vl2-moduley2r"><span>Y2R</span></a></li>
<li><a class="reference internal" href="#isp-vl2-modulemgm"><span>MGM</span></a></li>
<li><a class="reference internal" href="#isp-vl2-moduledgm"><span>DGM</span></a></li>
<li><a class="reference internal" href="#isp-vl2-moduleens"><span>ENS</span></a></li>
<li><a class="reference internal" href="#isp-vl2-modulelbc"><span>LBC</span></a></li>
<li><a class="reference internal" href="#isp-vl2-modulegma"><span>GMA</span></a></li>
</ul>
</div></blockquote>
<div class="section" id="out">
<span id="isp-vl2-moduleout"></span><h3>OUT<a class="headerlink" href="#out" title="Permalink to this headline">¶</a></h3>
<p>This module lets a user to control size and format of the output images of
three different pipeline points. The displayed options are similar to the
ones available in <a class="reference internal" href="../ispc/ispc_modules.html#isp-ispc-out-hlp"><span>OUT High Level Parameters</span></a>. A preview of the window is
available in Figure <a class="reference internal" href="#isp-vl2-moduleout-fig"><span>OUT Module</span></a>.</p>
<p>More importantly it allows the selection of the Bayer extraction (data
extraction) format which will need to be &#8220;DE1: before BLC&#8221; to capture images
for calibration.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only image formats enabled here can be displayed after in
<a class="reference internal" href="#isp-vl2-livefeedview"><span>LiveFeedView</span></a>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that RGB and Bayer formats can&#8217;t be selected simultaneously
(the DDK is enforcing the HW limitations).</p>
</div>
<div class="figure align-center" id="id14">
<span id="isp-vl2-moduleout-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleOUT.png"><img alt="../_images/VL2_ModuleOUT.png" src="../_images/VL2_ModuleOUT.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">OUT Module</span></p>
</div>
</div>
<div class="section" id="exposure">
<span id="isp-vl2-moduleexposure"></span><h3>Exposure<a class="headerlink" href="#exposure" title="Permalink to this headline">¶</a></h3>
<p>This module gives a user control over sensor parameters like &#8220;Exposure&#8221; and
&#8220;Gain&#8221; which can be set manually as displayed in Figure
<a class="reference internal" href="#isp-vl2-moduleexposure-fig"><span>ModuleExposure</span></a>.</p>
<p>VisionLive provides several controls to tune AE control module which are
associated with <a class="reference internal" href="../ispc/ispc_controls_ae.html#isp-ae-hlp"><span>AE High Level Parameters</span></a>.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Auto</span></code></dt>
<dd>Enable/disable the automatic exposure.</dd>
<dt><code class="docutils literal"><span class="pre">Flicker</span> <span class="pre">Rejection</span></code></dt>
<dd>Enables/disables flicker rejection option and frequency to reject.
If enabled the exposure should move in step with the relevant flicker
frequency.</dd>
<dt><code class="docutils literal"><span class="pre">Brightness</span></code></dt>
<dd><p class="first">The <strong>target brightness</strong> sets a target that the AE needs to achieve in
[-1,+1]. A bigger value increases the exposure while reducing it should
reduce the output brightness. It is expected that a brightness of 0 is
balanced but the target brightness is scene dependent.</p>
<p class="last">The <strong>measured brightness</strong> is reported by the AE using statistics from
the ISP.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">Bracket</span> <span class="pre">Size</span></code></dt>
<dd>Margin around target brightness which we will consider as proper exposure.</dd>
<dt><code class="docutils literal"><span class="pre">Update</span> <span class="pre">Speed</span></code></dt>
<dd>Update speed for the new exposure to be applied on the sensor in range
of [0,1]. Bigger values make the algorithm apply the changes faster
while values closer to 0 ensure a smoother transition between the
parameters and the application.</dd>
<dt><code class="docutils literal"><span class="pre">Sensor</span> <span class="pre">exposure</span></code></dt>
<dd>The amount of sensor exposure time the AE is using.</dd>
<dt><code class="docutils literal"><span class="pre">Sensor</span> <span class="pre">gain</span></code></dt>
<dd>The amount of sensor gain the AE is using as a multiplier.</dd>
<dt><code class="docutils literal"><span class="pre">Set</span> <span class="pre">exposure</span></code></dt>
<dd>When the AE is turned off the user can program the sensor exposure
independently, this is necessary for taking calibration images and when
debugging.</dd>
<dt><code class="docutils literal"><span class="pre">Set</span> <span class="pre">gain</span></code></dt>
<dd>When the AE is turned off the user can program the sensor gain
independently, this is necessary for taking calibration images and when
debugging.</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that only the <code class="docutils literal"><span class="pre">Auto</span></code> option is applied automatically. The
rest of the controls have to be applied using &#8220;Connection-&gt;Apply configuration&#8221; option or by
using &#8220;Ctrl+Shift+A&#8221; shortcut.</p>
</div>
<div class="figure align-center" id="id15">
<span id="isp-vl2-moduleexposure-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleExposure.png"><img alt="../_images/VL2_ModuleExposure.png" src="../_images/VL2_ModuleExposure.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleExposure</span></p>
</div>
</div>
<div class="section" id="focus">
<span id="isp-vl2-modulefocus"></span><h3>Focus<a class="headerlink" href="#focus" title="Permalink to this headline">¶</a></h3>
<p>This module gives the user control over the sensor focus distance which can
be set manually. The user can also set the &#8220;Auto&#8221; option to enable
AF control module and press the &#8220;Search&#8221; button to run through the whole
sensor distance range and find the best focus distance. The window preview
is available in Figure <a class="reference internal" href="#isp-vl2-modulefocus-fig"><span>ModuleFocus</span></a>.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Auto</span></code></dt>
<dd><p class="first">Enable the auto-focus algorithm.</p>
<div class="last admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Does NOT trigger the focus search.</p>
</div>
</dd>
<dt><code class="docutils literal"><span class="pre">Search</span></code></dt>
<dd>Triggers the search for the sharpest focus position.</dd>
<dt><code class="docutils literal"><span class="pre">State</span> <span class="pre">and</span> <span class="pre">Scan</span> <span class="pre">State</span></code></dt>
<dd>Feedback on progress of AF.</dd>
<dt><code class="docutils literal"><span class="pre">Distance</span></code></dt>
<dd>Current distance displays the current focus as reported by the sensor.
If auto-focus is disabled the distance can be set manually.</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that only the &#8220;Auto&#8221; option and &#8220;Search&#8221; action are applied
automatically. The rest of the controls have to be applied using &#8220;Connection-&gt;Apply configuration&#8221; option or by using &#8220;Ctrl+Shift+A&#8221; shortcut.</p>
</div>
<div class="figure align-center" id="id16">
<span id="isp-vl2-modulefocus-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleFocus.png"><img alt="../_images/VL2_ModuleFocus.png" src="../_images/VL2_ModuleFocus.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleFocus</span></p>
</div>
</div>
<div class="section" id="blc">
<span id="isp-vl2-moduleblc"></span><h3>BLC<a class="headerlink" href="#blc" title="Permalink to this headline">¶</a></h3>
<p>This module allows the BLC configuration to be modified while running as
displayed in Figure <a class="reference internal" href="#isp-vl2-moduleblc-fig"><span>ModuleBLC</span></a>.</p>
<p>The result can be previewed using Bayer capture (with selected DE point
after LSH). The associated parameters are described in
<a class="reference internal" href="../ispc/ispc_modules.html#isp-ispc-blc-hlp"><span>BLC High Level Parameters</span></a>.</p>
<p>Calibration of the BLC is explained in <a class="reference internal" href="../tuning/user_tuning_guide.html#isp-utg-blc"><span>Sensor BLC tuning</span></a>.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Sensor</span> <span class="pre">black</span> <span class="pre">level</span></code></dt>
<dd>This is the amount of black level that need subtracted from the sensor
signal. This would be one of the first operations to be done in the ISP.</dd>
<dt><code class="docutils literal"><span class="pre">System</span> <span class="pre">black</span> <span class="pre">level</span></code></dt>
<dd><p class="first">This is the value that the system black level is set to.</p>
<div class="last admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The value is 64 and should not be changed (expected when requested
for tuning purposes).</p>
</div>
</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that all the controls have to be applied using &#8220;Connection-&gt;Apply configuration&#8221;
option or by using the &#8220;Ctrl+Shift+A&#8221; shortcut.</p>
</div>
<div class="figure align-center" id="id17">
<span id="isp-vl2-moduleblc-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleBLC.png"><img alt="../_images/VL2_ModuleBLC.png" src="../_images/VL2_ModuleBLC.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleBLC</span></p>
</div>
</div>
<div class="section" id="wbc">
<span id="isp-vl2-modulewbc"></span><h3>WBC<a class="headerlink" href="#wbc" title="Permalink to this headline">¶</a></h3>
<p>This module allows the user to apply different CCM configurations. The user
can also set one of the &#8220;Auto Mode&#8221; options to let AWB control module do
automatic adjustments to CCM configuration. The window preview is available
in Figure <a class="reference internal" href="#isp-vl2-modulewbc-fig"><span>ModuleWBC</span></a>.</p>
<p>This is using the high level setup described in <a class="reference internal" href="../ispc/ispc_controls_awb.html#isp-icm-awb"><span>Automatic White Balance (AWB)</span></a>.</p>
<p>Description on how to tune the CCM for white balance correction is available
in the <a class="reference internal" href="../tuning/user_tuning_guide.html#isp-utg-wbc"><span>White Balance Correction Tuning</span></a>.</p>
<p>VisionLive provides some information from the AWB control module:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Auto</span> <span class="pre">mode</span></code></dt>
<dd><p class="first">This is a choice between disabled (AWB off), Average Colour, White
Point, High illuminant white and combined.</p>
<p class="last">The current recommendation is combined, however it is advised that the
customer does relevant testing and make their own choice.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">Measured</span> <span class="pre">Temperature</span></code></dt>
<dd>Currently measured image temperature</dd>
<dt><code class="docutils literal"><span class="pre">Gains,</span> <span class="pre">Clips,</span> <span class="pre">CCM</span></code></dt>
<dd>Current state of white balance and colour corrections</dd>
</dl>
<p>From hardware version 2.6 Auto White Balance algorithm is using White Balance
Statistics (AWS) module to determine which pixels to use in white balance
correction. WBC module also provides controls needed to tune AWS module.</p>
<p>From hardware version 2.6 WBC module also enables controls for tuning Temporal
Smoothing.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Debug</span> <span class="pre">mode</span></code></dt>
<dd>Turns on AWB debug mode which marks on live feed image (with red dots)
pixels that have been taken into calculations on white balance correction.</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">For &#8220;debug mode&#8221; to display accurate data DataExtraction format should be
selected.</p>
</div>
<p>This module also provides option of using multiple CCM configurations. The
first tab <code class="docutils literal"><span class="pre">CCM</span></code> is the default CCM used (using <a class="reference internal" href="../ispc/ispc_modules.html#isp-ispc-ccm-hlp"><span>CCM High Level Parameters</span></a>)
while the others are the ones used by the AWB algorithm.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Promote</span> <span class="pre">to</span> <span class="pre">Multi</span> <span class="pre">CCM</span></code></dt>
<dd>Adds a CCM configuration to the Multi CCM set.</dd>
<dt><code class="docutils literal"><span class="pre">Return</span> <span class="pre">to</span> <span class="pre">Identity</span></code></dt>
<dd>Turns a CCM configuration to its default state.</dd>
</dl>
<p>The CCM used by the AWB have additional features:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Temperature</span></code></dt>
<dd>Is the temperature of light they are correcting. This will be used by the
AWB to know which CCM to interpolate from when running.</dd>
<dt><code class="docutils literal"><span class="pre">Use</span> <span class="pre">when</span> <span class="pre">applying</span></code></dt>
<dd>If un-ticked this CCM will be ignored when the configuration is applied to
the ISP.</dd>
<dt><code class="docutils literal"><span class="pre">Set</span> <span class="pre">as</span> <span class="pre">default</span></code></dt>
<dd>To override the default CCM with the values of the current CCM.</dd>
<dt><code class="docutils literal"><span class="pre">Remove</span></code></dt>
<dd>To delete this CCM from the list.</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that only the &#8220;Auto Mode&#8221; option is applied automatically. The
rest of the controls have to be applied using &#8220;Connection-&gt;Apply configuration&#8221; option or by
using &#8220;Ctrl+Shift+A&#8221; shortcut. Know that only CCM configurations with
&#8220;Use when Applying&#8221; option checked will be applied.</p>
</div>
<div class="figure align-center" id="id18">
<span id="isp-vl2-modulewbc-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleWBC.png"><img alt="../_images/VL2_ModuleWBC.png" src="../_images/VL2_ModuleWBC.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleWBC</span></p>
</div>
</div>
<div class="section" id="lsh">
<span id="isp-vl2-modulelsh"></span><h3>LSH<a class="headerlink" href="#lsh" title="Permalink to this headline">¶</a></h3>
<p>This module provides the option to provide multiple LSH grids that can be
used later by AWB control module or manual selection of one of them.</p>
<p>The associated high level parameters are described in the
<a class="reference internal" href="../ispc/ispc_modules.html#isp-ispc-lsh-hlp"><span>LSH High Level Parameters</span></a> section.</p>
<p>The LSH grid files have to be previously created using the &#8220;Tune&#8221; option.</p>
<p>Tuning for the LSH is explained in section <a class="reference internal" href="../tuning/user_tuning_guide.html#isp-utg-lsh"><span>Sensor Lens Shading Tuning</span></a>.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Add</span></code></dt>
<dd>Sends selected LSH grids to the ISP and loads them.</dd>
<dt><code class="docutils literal"><span class="pre">Apply</span></code></dt>
<dd>Apply one of the grids to be used. This option is disabled when AWB
control module is running because then AWB applys grid that matches best
current calculated image temperature.</dd>
<dt><code class="docutils literal"><span class="pre">Remove</span></code></dt>
<dd><blockquote class="first">
<div>Removes selected grids from ISP.</div></blockquote>
<dl class="last docutils">
<dt><code class="docutils literal"><span class="pre">Current</span> <span class="pre">LSH</span> <span class="pre">grid</span></code></dt>
<dd>Displays file name of the grid currently applyed by AWB control module.</dd>
</dl>
</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that all actions are applied automatically.</p>
</div>
<div class="figure align-center" id="id19">
<span id="isp-vl2-modulelsh-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleLSH.png"><img alt="../_images/VL2_ModuleLSH.png" src="../_images/VL2_ModuleLSH.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleLSH</span></p>
</div>
</div>
<div class="section" id="lca">
<span id="isp-vl2-modulelca"></span><h3>LCA<a class="headerlink" href="#lca" title="Permalink to this headline">¶</a></h3>
<p>The window preview is available in Figure <a class="reference internal" href="#isp-vl2-modulelca-fig"><span>ModuleLCA</span></a>.</p>
<p>This module&#8217;s parameters should be tuned in the way described in
<a class="reference internal" href="vision_tuning.html#isp-visiontuning-lca"><span>Lateral chromatic aberration (LCA)</span></a>.</p>
<p>Use the &#8220;Tune&#8221; button to tune LCA module.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that all controls have to be applied using &#8220;Connection-&gt;Apply configuration&#8221; option
or by using &#8220;Ctrl+Shift+A&#8221; shortcut.</p>
</div>
<div class="figure align-center" id="id20">
<span id="isp-vl2-modulelca-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleLCA.png"><img alt="../_images/VL2_ModuleLCA.png" src="../_images/VL2_ModuleLCA.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleLCA</span></p>
</div>
</div>
<div class="section" id="noise">
<span id="isp-vl2-modulenoise"></span><h3>Noise<a class="headerlink" href="#noise" title="Permalink to this headline">¶</a></h3>
<p>This module allows the user to modify the high level parameters of the
V2500 denoise and sharpening modules as displayed in Figure
<a class="reference internal" href="#isp-vl2-modulenoise-fig"><span>ModuleNoise</span></a>.</p>
<p>Information on how to tune the noise is available in the
<a class="reference internal" href="../tuning/user_tuning_guide.html#isp-utg-dns"><span>Primary Denoiser Tuning</span></a> and <a class="reference internal" href="../tuning/user_tuning_guide.html#isp-utg-sha-dn2"><span>Sharpening and Secondary denoiser Tuning</span></a>.</p>
<p>It contains the control for the <em>auto denoiser</em> which is the simplest
algorithm in ISPC (gathers gain from the sensor and adapts the associated
DNS parameter).</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Auto</span></code></dt>
<dd>Control the automatic gathering of the DNS sensor gain parameter.</dd>
</dl>
<p>Controls for the Primary denoiser are done using high level parameters
described in <a class="reference internal" href="../ispc/ispc_modules.html#isp-ispc-dns1-hlp"><span>Primary denoiser (DNS)</span></a>.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Strength</span></code></dt>
<dd>Is how much correction the primary denoiser should apply to the image.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The parameters detailed in <a class="reference internal" href="../ispc/ispc_modules.html#isp-ispc-dns1-hlp"><span>Primary denoiser (DNS)</span></a> contain several
other parameters which are mostly provided by the sensor (e.g. sensor
bitdepth). Therefore it is important when porting a sensor to provide
accurate information for the denoiser to perform correctly. information
for the denoiser to perform correctly.</p>
</div>
<p>The Sharpening module is situated after the Tone Mapper module and prior to
the Encode and Display Scalers. It consists of a sharpening sub-block and a
denoising sub-block which operate in parallel, sharing an edge detection
pre-filter. The final output of the module is the sum of the edge
enhancement signal produced by the sharpening logic, and the denoised pixel
generated by the denoising logic.</p>
<p>The module has a number of controls available in <a class="reference internal" href="../ispc/ispc_modules.html#isp-ispc-sha-hlp"><span>SHA High Level Parameters</span></a>, only
a subset will need tuned.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Radius</span></code></dt>
<dd><p class="first">This is the radius in pixels that sharpening will be applied to.</p>
<p class="last">Any value over 5 would be meaningless, if blur is spread over 5 pixels
then it will only have a small impact. Typical values for modern small
pixel sensors would be in the range of [1.5, 2.5],</p>
</dd>
<dt><code class="docutils literal"><span class="pre">Strength</span></code></dt>
<dd>Correction strength.</dd>
<dt><code class="docutils literal"><span class="pre">Threshold</span></code></dt>
<dd>Should stay at 0.</dd>
<dt><code class="docutils literal"><span class="pre">Detail</span></code></dt>
<dd>This parameter will determine what gets sharpened (0 for only edges, 1
for everything).</dd>
</dl>
<p>Finally the Secondary denoiser allows some further refinement of the noise
after sharpening was applied (using secondary denoiser parameters from
<a class="reference internal" href="../ispc/ispc_modules.html#isp-ispc-dns2-hlp"><span>Secondary Denoiser (part of SHA in HW)</span></a>):</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Edge</span> <span class="pre">avoidance</span></code></dt>
<dd>As this is increased more edge avoidance will occur.
This is called Tau multiplier in the parameters.</dd>
<dt><code class="docutils literal"><span class="pre">Strength</span></code></dt>
<dd>As this is increased more noise will be suppressed.
This is called Sigma multiplier in the parameters.</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that only the &#8220;Auto&#8221; option is applied automatically. The rest
of the controls have to be applied using &#8220;Connection-&gt;Apply configuration&#8221; option or by using
&#8220;Ctrl+Shift+A&#8221; shortcut.</p>
</div>
<div class="figure align-center" id="id21">
<span id="isp-vl2-modulenoise-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleNoise.png"><img alt="../_images/VL2_ModuleNoise.png" src="../_images/VL2_ModuleNoise.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleNoise</span></p>
</div>
</div>
<div class="section" id="isp-vl2-moduledpf">
<span id="id1"></span><h3>DPF<a class="headerlink" href="#isp-vl2-moduledpf" title="Permalink to this headline">¶</a></h3>
<p>The DPF module does live defect fixing by detecting pixels that have values
that appear incorrect in comparison to the pixels immediately around them,
and correcting the values using interpolation of the local pixels. The window
preview is available in Figure <a class="reference internal" href="#isp-vl2-moduledpf-fig"><span>ModuleDPF</span></a>.</p>
<p>The GUI is using the <a class="reference internal" href="../ispc/ispc_modules.html#isp-ispc-dpf-hlp"><span>DPF High Level Parameters</span></a> to control the module.</p>
<p>Information about tuning this module is available in the <a class="reference internal" href="../tuning/user_tuning_guide.html#isp-utg-dpf"><span>Defective Pixels Tuning</span></a>
section.</p>
<p>If a defect map is available, this can be used instead of, or together with,
the live detection.</p>
<p>Live defect detection is applied to the current frame without reference to
historical data. As the DPF follows the main denoiser, the random sensor
noise will have been substantially reduced, and the defective pixels are
either stuck pixels that don’t have a normal photometric response, or normal
pixels carrying random noise that exceeded the denoiser threshold (e.g. 4
sigma).</p>
<p>The DPF is located after the primary denoiser, before the LCA correction and
the demosaicer, in white balanced Bayer space.</p>
<p>The GUI is split into controls and statistics information:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">HW</span> <span class="pre">Detection</span></code></dt>
<dd>Will control the live detection. When enabled the <em>fixed pixel</em> should be
updated.</dd>
<dt><code class="docutils literal"><span class="pre">Threshold</span></code></dt>
<dd>The detection threshold.</dd>
<dt><code class="docutils literal"><span class="pre">Weight</span></code></dt>
<dd>The detection MAD (Median of Absolute Deviation) weight.</dd>
<dt><code class="docutils literal"><span class="pre">Output</span> <span class="pre">Map</span></code></dt>
<dd>Allows the detected pixels to be saved to memory. When enabled <em>written
to map</em> and <em>dropping from writing</em> should be enabled.</dd>
<dt><code class="docutils literal"><span class="pre">Input</span> <span class="pre">Map</span></code></dt>
<dd>Allows usage of previously stored DPF map to be taken
into account when correcting defective pixels.</dd>
<dt><code class="docutils literal"><span class="pre">Load</span></code></dt>
<dd>Use to load previously saved DPF map.</dd>
<dt><code class="docutils literal"><span class="pre">Select</span> <span class="pre">Confidence</span> <span class="pre">Range</span> <span class="pre">and</span> <span class="pre">Select</span> <span class="pre">S</span></code></dt>
<dd>These parameters are used to filter loaded DPF map.</dd>
<dt><code class="docutils literal"><span class="pre">Apply</span></code></dt>
<dd>Applys loaded DPF map.</dd>
</dl>
<p>The statistics display basic information about the detected pixels:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Fixed</span> <span class="pre">pixels</span></code></dt>
<dd>Is the number of defects the HW detected with live detection.</dd>
<dt><code class="docutils literal"><span class="pre">Written</span> <span class="pre">to</span> <span class="pre">map</span></code></dt>
<dd>Is the number of defects the HW wrote to the defect map. This can be less
than the number of detected pixels as the map has a finite size and a limit
per line.</dd>
<dt><code class="docutils literal"><span class="pre">Dropped</span> <span class="pre">from</span> <span class="pre">writing</span></code></dt>
<dd>The number of pixels that were detected but not written to the output map.
This can happen because the output map is too small to store all detected
pixels or because the number of defects was to high for the HW internal
defect buffer as explained in the HW TRM.</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that all the controls have to be applied using
&#8220;Connection-&gt;Apply configuration&#8221; option or by using &#8220;Ctrl+Shift+A&#8221;
shortcut.</p>
</div>
<div class="figure align-center" id="id22">
<span id="isp-vl2-moduledpf-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleDPF.png"><img alt="../_images/VL2_ModuleDPF.png" src="../_images/VL2_ModuleDPF.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleDPF</span></p>
</div>
</div>
<div class="section" id="tnm">
<span id="isp-vl2-moduletnm"></span><h3>TNM<a class="headerlink" href="#tnm" title="Permalink to this headline">¶</a></h3>
<p>This module allows control over the auto tone mapping curve computation and
the preview of the applied result. It also gives control over the local tone
mapping. The user can also set the &#8220;Auto&#8221; option to let TNM control module
do automatic adjustments of those parameters. The window preview is available
in Figure <a class="reference internal" href="#isp-vl2-moduletnm-fig"><span>ModuleTNM</span></a>.</p>
<p>Information about the algorithm is available in <a class="reference internal" href="../ispc/ispc_modules.html#isp-ispc-tnm-algorithm"><span>Algorithm overview</span></a>
and tuning in <a class="reference internal" href="../tuning/user_tuning_guide.html#isp-utg-tnm"><span>Tone-mapping Tuning</span></a>.</p>
<p>VisionLive provides several controls to tune Auto TNM control module using
the <a class="reference internal" href="../ispc/ispc_controls_tnmc.html#isp-icm-tnmc"><span>Automatic Tone Mapping Control (TNMC)</span></a> parameters:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Auto</span></code></dt>
<dd>Enable/disable the control module.</dd>
<dt><code class="docutils literal"><span class="pre">Adaptive</span></code></dt>
<dd>Enable/disable adaptive tone mapping strength control</dd>
<dt><code class="docutils literal"><span class="pre">Hist.</span> <span class="pre">Min,</span> <span class="pre">Hist.</span> <span class="pre">Max</span></code></dt>
<dd>Histogram clipping range for global tone mapping curve generation</dd>
<dt><code class="docutils literal"><span class="pre">Tempering</span></code></dt>
<dd>Tempering value for global tone mapping curve generation, more
tempering produces more gentle mapping curves.</dd>
<dt><code class="docutils literal"><span class="pre">Smoothing</span></code></dt>
<dd>Smoothing value for global tone mapping curve generation.</dd>
<dt><code class="docutils literal"><span class="pre">Local</span> <span class="pre">TNM</span></code></dt>
<dd>Enable/disable local tone mapping.</dd>
<dt><code class="docutils literal"><span class="pre">Local</span> <span class="pre">Strength</span></code></dt>
<dd>local tone mapping strength</dd>
<dt><code class="docutils literal"><span class="pre">Update</span> <span class="pre">Speed</span></code></dt>
<dd>update speed for application of newly generated global curves</dd>
</dl>
<p>It also provides controls to the normal tone mapping parameters
<a class="reference internal" href="../ispc/ispc_modules.html#isp-ispc-tnm-hlp"><span>TNM High Level Parameters</span></a>:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Luma</span> <span class="pre">range</span></code></dt>
<dd><p class="first">Luma range that the tone mapper considers as input.</p>
<p class="last">It is recommended to never change this value from -64, 64.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">Bypass</span> <span class="pre">TNM</span></code></dt>
<dd>Disables the tone mapping. The luma range is still applied.</dd>
</dl>
<p>The other parameters are explained in the tuning section <a class="reference internal" href="../tuning/user_tuning_guide.html#isp-utg-tnm"><span>Tone-mapping Tuning</span></a>.</p>
<p>The GUI also allows the live preview of the applied curve and allow to modify
the curve manually.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Editable</span></code></dt>
<dd><p class="first">Make the curve preview points movable vertically.</p>
<div class="last admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">When editing the curve manually it is important to know that the
curve must be increasing (i.e. every point has to be higher than the
previous one). If the curve becomes invalid it will turn red.</p>
</div>
</dd>
<dt><code class="docutils literal"><span class="pre">Interpolate</span> <span class="pre">forward</span></code></dt>
<dd>All points after the moving ones are interpolated to create a linear
curve to 1.</dd>
<dt><code class="docutils literal"><span class="pre">Interpolate</span> <span class="pre">backward</span></code></dt>
<dd>All points before the moving ones are interpolated to create a linear
curve from the 0.</dd>
<dt><code class="docutils literal"><span class="pre">Reset</span></code></dt>
<dd>Resets to the last applied curve.</dd>
<dt><code class="docutils literal"><span class="pre">To</span> <span class="pre">identity</span></code></dt>
<dd>Regenerate the default curve for the TNM (identity from 0 to 1).</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that only the &#8220;Auto&#8221; option is applied automatically. The rest
of controls has to be applied using &#8220;Connection-&gt;Apply configuration&#8221; option or by using
&#8220;Ctrl+Shift+A&#8221; shortcut.</p>
</div>
<div class="figure align-center" id="id23">
<span id="isp-vl2-moduletnm-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleTNM.png"><img alt="../_images/VL2_ModuleTNM.png" src="../_images/VL2_ModuleTNM.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleTNM</span></p>
</div>
</div>
<div class="section" id="mie">
<span id="isp-vl2-modulemie"></span><h3>MIE<a class="headerlink" href="#mie" title="Permalink to this headline">¶</a></h3>
<p>This module gives control over the Memory Colour part of the MIE block
of the V2500 HW. The MIE block has 3 memory colours that can be
enhanced. The preview window is available in Figure
<a class="reference internal" href="#isp-vl2-modulemie-fig"><span>ModuleMIE</span></a>.</p>
<p>The import button can be used to import a set of YUV
values to automatically set the Y slices and CbCr centre but the
user is expected to have to calibrate the other options.</p>
<p>The details about the MIE block is available in the
<a class="reference internal" href="../ispc/ispc_modules.html#isp-ispc-mie-algorithm"><span>Algorithm overview</span></a> section. Tuning information is available in the
<a class="reference internal" href="../tuning/user_tuning_guide.html#isp-utg-mie"><span>Image Enhancer Tuning</span></a> section.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Enable</span> <span class="pre">MC</span></code></dt>
<dd>Tick to enable the associated memory colour parameters. If disabled the
parameters are ignored.</dd>
<dt><code class="docutils literal"><span class="pre">Import</span> <span class="pre">value</span></code></dt>
<dd>Can be used to import the values to the luma slice and CbCr center for
the current memory colour tab. This option automatically imports pixel
colour info of pixel selected in <a class="reference internal" href="#isp-vl2-livefeedview"><span>LiveFeedView</span></a>.</dd>
</dl>
<p>For each memory colour tab:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Slice</span> <span class="pre">selection</span> <span class="pre">radio</span> <span class="pre">button</span></code></dt>
<dd>Allows the user to highlight the selected slice in the luma slices and the
diamond Chroma view. This is only visual.</dd>
<dt><code class="docutils literal"><span class="pre">Luma</span> <span class="pre">slide</span> <span class="pre">min/max</span></code></dt>
<dd>Luma values computed for the colour being selected.</dd>
<dt><code class="docutils literal"><span class="pre">Luma</span> <span class="pre">gain</span> <span class="pre">controls</span></code></dt>
<dd>Strength of the modification per slice. Should add up to 1.</dd>
<dt><code class="docutils literal"><span class="pre">Cb/Cr</span> <span class="pre">center</span></code></dt>
<dd><p class="first">The value in Cb/Cr space of the colour that should be changed.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is the <em>input</em> of the MIE block therefore to see the value in the
preview MIE <strong>and</strong> TNM should be turned off.</p>
</div>
</dd>
<dt><code class="docutils literal"><span class="pre">Aspect</span></code></dt>
<dd>Changes the shape of the Chroma diamond.</dd>
<dt><code class="docutils literal"><span class="pre">Rotation</span></code></dt>
<dd>Rotation of the colour diamond.</dd>
<dt><code class="docutils literal"><span class="pre">Extent</span> <span class="pre">control</span></code></dt>
<dd>How big the colour selection diamond will be for each slice. The smaller
the selection the more focussed the colour space, if the value is too
big then it turns into a global operator.</dd>
<dt><code class="docutils literal"><span class="pre">Show</span> <span class="pre">selected</span> <span class="pre">colours</span></code></dt>
<dd>If ticked the brightness is forced to -1 to display selected colours as
black pixels on the preview.</dd>
<dt><code class="docutils literal"><span class="pre">Output</span> <span class="pre">HSBC</span></code></dt>
<dd>The <em>hue</em>, <em>saturation</em>, <em>brightness</em> and <em>contrast</em>  modifiers to apply
on the selected pixels.</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that all the controls have to be applied using
&#8220;Connection-&gt;Apply configuration&#8221; option or by using &#8220;Ctrl+Shift+A&#8221;
shortcut.</p>
</div>
<div class="figure align-center" id="id24">
<span id="isp-vl2-modulemie-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleMIE.png"><img alt="../_images/VL2_ModuleMIE.png" src="../_images/VL2_ModuleMIE.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleMIE</span></p>
</div>
</div>
<div class="section" id="vib">
<span id="isp-vl2-modulevib"></span><h3>VIB<a class="headerlink" href="#vib" title="Permalink to this headline">¶</a></h3>
<p>This module enables manipulation on a saturation curve used by the MIE HW
block. The saturation curve is converted to vibrancy gains for
specific colour by the driver. The window preview is available in Figure
<a class="reference internal" href="#isp-vl2-modulevib-fig"><span>ModuleVIB</span></a>.</p>
<p>The setup is performed using the <a class="reference internal" href="../ispc/ispc_modules.html#isp-ispc-vib-hlp"><span>VIB High Level Parameters</span></a>. Details about the
algorithm is also available in the section <a class="reference internal" href="../ispc/ispc_modules.html#isp-ispc-vib"><span>Vibrancy (VIB)</span></a>.</p>
<p>The user can either drag and drop the two points of the curve or set the
position with the spinboxes for more precision.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that all the controls have to be applied using
&#8220;Connection-&gt;Apply configuration&#8221; option or by using &#8220;Ctrl+Shift+A&#8221;
shortcut.</p>
</div>
<div class="figure align-center" id="id25">
<span id="isp-vl2-modulevib-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleVIB.png"><img alt="../_images/VL2_ModuleVIB.png" src="../_images/VL2_ModuleVIB.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleVIB</span></p>
</div>
</div>
<div class="section" id="r2y">
<span id="isp-vl2-moduler2y"></span><h3>R2Y<a class="headerlink" href="#r2y" title="Permalink to this headline">¶</a></h3>
<p>This module allows some control over the R2Y module of the pipeline. It
is not expected that a customer will have to modify these values but
it can be used to saturate/desaturate images before the image
enhancement modules (MIE and TNM). The window preview is available in Figure
<a class="reference internal" href="#isp-vl2-moduler2y-fig"><span>ModuleR2Y</span></a>.</p>
<p>The R2Y block is a CSC that will convert RGB to YCbCr after the Gamma was
applied.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Brightness</span></code></dt>
<dd>Global brightness offset (-0.5, 0.5)</dd>
<dt><code class="docutils literal"><span class="pre">Contrast</span></code></dt>
<dd>Global contrast (luma gain) control (0.1, 10.0)</dd>
<dt><code class="docutils literal"><span class="pre">Saturation</span></code></dt>
<dd>Global saturation (chroma gain) control (0.1, 10.0)</dd>
<dt><code class="docutils literal"><span class="pre">Hue</span></code></dt>
<dd>Global hue control (rotation in degrees) (-30, 30)</dd>
<dt><code class="docutils literal"><span class="pre">Conversion</span> <span class="pre">matrix</span></code></dt>
<dd>Choice conversion matrix format (BT709 or BT601).</dd>
<dt><code class="docutils literal"><span class="pre">Range</span> <span class="pre">multiplier</span></code></dt>
<dd>Are gain multipliers for each YUV channels.</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that all the controls have to be applied using
&#8220;Connection-&gt;Apply configuration&#8221; option or by using &#8220;Ctrl+Shift+A&#8221;
shortcut.</p>
</div>
<div class="figure align-center" id="id26">
<span id="isp-vl2-moduler2y-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleR2Y.png"><img alt="../_images/VL2_ModuleR2Y.png" src="../_images/VL2_ModuleR2Y.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleR2Y</span></p>
</div>
</div>
<div class="section" id="y2r">
<span id="isp-vl2-moduley2r"></span><h3>Y2R<a class="headerlink" href="#y2r" title="Permalink to this headline">¶</a></h3>
<p>This module allows some control over the Y2R module of the pipeline. It
is not expected that a customer will have to modify these values but
it can be used to saturate/desaturate images just before the display
gamut mapper (DGM). The preview window is available in Figure
<a class="reference internal" href="#isp-vl2-moduley2r-fig"><span>ModuleY2R</span></a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that all the controls have to be applied using &#8220;Connection-&gt;Apply configuration&#8221;
option or by using &#8220;Ctrl+Shift+A&#8221; shortcut.</p>
</div>
<div class="figure align-center" id="id27">
<span id="isp-vl2-moduley2r-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleY2R.png"><img alt="../_images/VL2_ModuleY2R.png" src="../_images/VL2_ModuleY2R.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleY2R</span></p>
</div>
</div>
<div class="section" id="mgm">
<span id="isp-vl2-modulemgm"></span><h3>MGM<a class="headerlink" href="#mgm" title="Permalink to this headline">¶</a></h3>
<p>This module allows users to tune Main Gamut Mapper module parameters as
displayed in Figure <a class="reference internal" href="#isp-vl2-modulemgm-fig"><span>ModuleMGM</span></a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that all of the controls have to be applied using &#8220;Connection-&gt;Apply configuration&#8221;
option or by using &#8220;Ctrl+Shift+A&#8221; shortcut.</p>
</div>
<div class="figure align-center" id="id28">
<span id="isp-vl2-modulemgm-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleMGM.png"><img alt="../_images/VL2_ModuleMGM.png" src="../_images/VL2_ModuleMGM.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleMGM</span></p>
</div>
</div>
<div class="section" id="dgm">
<span id="isp-vl2-moduledgm"></span><h3>DGM<a class="headerlink" href="#dgm" title="Permalink to this headline">¶</a></h3>
<p>This module allows users to tune Display Gamut Mapper module parameters as
displayed in Figure <a class="reference internal" href="#isp-vl2-moduledgm-fig"><span>ModuleDGM</span></a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that all of the controls have to be applied using &#8220;Connection-&gt;Apply configuration&#8221;
option or by using &#8220;Ctrl+Shift+A&#8221; shortcut.</p>
</div>
<div class="figure align-center" id="id29">
<span id="isp-vl2-moduledgm-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleDGM.png"><img alt="../_images/VL2_ModuleDGM.png" src="../_images/VL2_ModuleDGM.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleDGM</span></p>
</div>
</div>
<div class="section" id="ens">
<span id="isp-vl2-moduleens"></span><h3>ENS<a class="headerlink" href="#ens" title="Permalink to this headline">¶</a></h3>
<p>This module allows users to enable generation of encoder statistics output.
The module also gives information about expected statistics size as displayed
in Figure <a class="reference internal" href="#isp-vl2-moduleens-fig"><span>ModuleENS</span></a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that all of the controls have to be applied using &#8220;Connection-&gt;Apply configuration&#8221;
option or by using &#8220;Ctrl+Shift+A&#8221; shortcut.</p>
</div>
<div class="figure align-center" id="id30">
<span id="isp-vl2-moduleens-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleENS.png"><img alt="../_images/VL2_ModuleENS.png" src="../_images/VL2_ModuleENS.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleENS</span></p>
</div>
</div>
<div class="section" id="lbc">
<span id="isp-vl2-modulelbc"></span><h3>LBC<a class="headerlink" href="#lbc" title="Permalink to this headline">¶</a></h3>
<p>This module allows a user to create light based configurations for
specific image light levels for use by LBC control module.</p>
<p>Users can enable/disable LBC control module using &#8220;Auto&#8221; option. When LBC in
enabled it will extrapolate between provided configurations to find values
(brightness, contrast, saturation, sharpness) for currently detected light
level. The preview window is available in Figure <a class="reference internal" href="#isp-vl2-modulelbc-fig"><span>ModuleLBC</span></a>.</p>
<p>VisionLive provides several controls to tune the LBC control module:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Update</span> <span class="pre">Speed</span></code></dt>
<dd>speed at which light metering is done so there is smooth
transition between configurations</dd>
</dl>
<p>VisionLive provides some information from LBC control module:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">Measured</span> <span class="pre">Light</span> <span class="pre">Level</span></code></dt>
<dd>currently calculated image light level (combination of exposure,
gain and brightness)</dd>
<dt><code class="docutils literal"><span class="pre">Current</span> <span class="pre">Configuration</span></code></dt>
<dd>currently used configuration (extrapolated based on provided
configurations and  Measured Light Level)</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that only &#8220;Auto&#8221; option is applied automatically. The rest of
the controls have to be applied using &#8220;Connection-&gt;Apply configuration&#8221; option or by using
&#8220;Ctrl+Shift+A&#8221; shortcut.</p>
</div>
<div class="figure align-center" id="id31">
<span id="isp-vl2-modulelbc-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleLBC.png"><img alt="../_images/VL2_ModuleLBC.png" src="../_images/VL2_ModuleLBC.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleLBC</span></p>
</div>
</div>
<div class="section" id="gma">
<span id="isp-vl2-modulegma"></span><h3>GMA<a class="headerlink" href="#gma" title="Permalink to this headline">¶</a></h3>
<p>The GMA module gives users the ability to view and create new gamma look up
tables to perform gamma correction as displayed in Figure
<a class="reference internal" href="#isp-vl2-modulegma-fig"><span>ModuleGMA</span></a>.</p>
<p>On start up there are two loaded gamma LUT&#8217;s (BT709 and sRGB). These
standard gamma curves can be exported to create new (editable) gamma LUT&#8217;s.
All created gamma LUT&#8217;s can be exported as pseudo code to a .txt file to be
used later (compiled in code as explained in the
<a class="reference internal" href="../ci/ci_library.html#isp-ci-gamma-lut-customisation"><span>Gamma Look-Up table customisation</span></a> section). Gamma LUT&#8217;s can be presented
(and exported) as register values (integers of range &lt;0-4095&gt;) or preview
values (doubles of range &lt;0-255&gt;). User has also ability to change Gamma LUT
while running VisionLive observe image change online.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that &#8220;Change Gamma LUT&#8221; option is applied automatically.</p>
</div>
<div class="figure align-center" id="id32">
<span id="isp-vl2-modulegma-fig"></span><a class="reference internal image-reference" href="../_images/VL2_ModuleGMA.png"><img alt="../_images/VL2_ModuleGMA.png" src="../_images/VL2_ModuleGMA.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">ModuleGMA</span></p>
</div>
</div>
</div>
<div class="section" id="logview">
<span id="isp-vl2-logview"></span><h2>LogView<a class="headerlink" href="#logview" title="Permalink to this headline">¶</a></h2>
<p>The LogView component displays application logs and actions as shown
in Figure <a class="reference internal" href="#isp-vl2-logview-fig"><span>LogView</span></a>.</p>
<p>Each log contains type, description and source. There are three types of
logs: Error, Warning and Message. Description contains log information (what
happened, what is wrong) and source tells where did described situation
occurred. Source information is very useful for debugging proposes but
rather irrelevant to the user.</p>
<div class="figure align-center" id="id33">
<span id="isp-vl2-logview-fig"></span><a class="reference internal image-reference" href="../_images/VL2_LogView.png"><img alt="../_images/VL2_LogView.png" src="../_images/VL2_LogView.png" style="width: 483.0px; height: 562.2px;" /></a>
<p class="caption"><span class="caption-text">LogView</span></p>
</div>
<p>Logs can also be filtered by using three checkboxes at the top of &#8220;Log&#8221; tab.
Only logs of selected type will be displayed. As default only error type
logs are displayed. Logs can be exported to &#8221;.txt&#8221; file using &#8220;File/Export
Log&#8221; option.
The &#8220;Action&#8221; tab of the LogView contains information about actions done by
the user while running application. This data can later be used to solve
issues the user might experience while running the application. Action can
be exported to &#8221;.txt&#8221; file using &#8220;File/Export Action Log&#8221; option.</p>
</div>
<div class="section" id="capturepreview">
<span id="isp-vl2-capturepreview"></span><h2>CapturePreview<a class="headerlink" href="#capturepreview" title="Permalink to this headline">¶</a></h2>
<p>This component allows the user to view and analyse recorded frames. It can
display <a class="reference internal" href="#isp-vl2-histogram"><span>Histogram</span></a>, <a class="reference internal" href="#isp-vl2-vectorscope"><span>Vectorscope</span></a>, <a class="reference internal" href="#isp-vl2-lineview"><span>LineView</span></a> and <a class="reference internal" href="#isp-vl2-dpf"><span>DPF</span></a> in the same manner as <a class="reference internal" href="#isp-vl2-showview"><span>ShowView</span></a>.
Also this component displays DPF output map (if DPF module has been set up
correctly) and configuration with which capture was taken as shown in Figure
<a class="reference internal" href="#isp-vl2-capturepreview-fig"><span>CapturePreview</span></a>.</p>
<div class="figure align-center" id="id34">
<span id="isp-vl2-capturepreview-fig"></span><a class="reference internal image-reference" href="../_images/VL2_CapturePreview.png"><img alt="../_images/VL2_CapturePreview.png" src="../_images/VL2_CapturePreview.png" style="width: 377.4px; height: 559.8px;" /></a>
<p class="caption"><span class="caption-text">CapturePreview</span></p>
</div>
<p>If capture contains many frames, &#8220;Previous&#8221; and &#8220;Next&#8221; buttons will appear
at the bottom of &#8220;Image&#8221; tab. Those tabs allow switching between recorded
frames. When displaying Histogram, Vectorscope, LineView or DPF while
switching frames, displayed widgets will be automatically updated.</p>
<p>CapturePreview frames can be saved to disc using one of &#8220;File/Save Image&#8221;
options.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be aware that saving item containing multiple frames in JPEG format will
result in creating multiple files on disc, each containing one frame.
Saving the same item in FLX format will result in creating one file
containing all captured frames.</p>
</div>
<p>DPF maps can be saved to disc using &#8220;File/Save DPF Map&#8221; option and then
selecting which dpf map to save.
Configuration can be saved to disc using &#8220;File/Save Configuration&#8221; option.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">VisionLive and ISPC_tcp</a><ul>
<li><a class="reference internal" href="#running-steps">Running steps</a></li>
<li><a class="reference internal" href="#ispc-tcp-options">ISPC_tcp options</a><ul>
<li><a class="reference internal" href="#sensor-controls">Sensor controls</a></li>
<li><a class="reference internal" href="#data-generator-parameters">Data Generator Parameters</a></li>
<li><a class="reference internal" href="#fake-interface-only">Fake interface only</a></li>
<li><a class="reference internal" href="#v2500-controls">V2500 controls</a></li>
<li><a class="reference internal" href="#connection-controls">Connection controls</a></li>
</ul>
</li>
<li><a class="reference internal" href="#imageview">ImageView</a><ul>
<li><a class="reference internal" href="#imageviewcontrols">ImageViewControls</a></li>
<li><a class="reference internal" href="#livefeedview">LiveFeedView</a></li>
<li><a class="reference internal" href="#showview">ShowView</a><ul>
<li><a class="reference internal" href="#capturegallery">CaptureGallery</a></li>
<li><a class="reference internal" href="#hardwareinfo">HardwareInfo</a></li>
<li><a class="reference internal" href="#histogram">Histogram</a></li>
<li><a class="reference internal" href="#vectorscope">Vectorscope</a></li>
<li><a class="reference internal" href="#lineview">LineView</a></li>
<li><a class="reference internal" href="#dpf">DPF</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#moduleview">ModuleView</a><ul>
<li><a class="reference internal" href="#out">OUT</a></li>
<li><a class="reference internal" href="#exposure">Exposure</a></li>
<li><a class="reference internal" href="#focus">Focus</a></li>
<li><a class="reference internal" href="#blc">BLC</a></li>
<li><a class="reference internal" href="#wbc">WBC</a></li>
<li><a class="reference internal" href="#lsh">LSH</a></li>
<li><a class="reference internal" href="#lca">LCA</a></li>
<li><a class="reference internal" href="#noise">Noise</a></li>
<li><a class="reference internal" href="#isp-vl2-moduledpf">DPF</a></li>
<li><a class="reference internal" href="#tnm">TNM</a></li>
<li><a class="reference internal" href="#mie">MIE</a></li>
<li><a class="reference internal" href="#vib">VIB</a></li>
<li><a class="reference internal" href="#r2y">R2Y</a></li>
<li><a class="reference internal" href="#y2r">Y2R</a></li>
<li><a class="reference internal" href="#mgm">MGM</a></li>
<li><a class="reference internal" href="#dgm">DGM</a></li>
<li><a class="reference internal" href="#ens">ENS</a></li>
<li><a class="reference internal" href="#lbc">LBC</a></li>
<li><a class="reference internal" href="#gma">GMA</a></li>
</ul>
</li>
<li><a class="reference internal" href="#logview">LogView</a></li>
<li><a class="reference internal" href="#capturepreview">CapturePreview</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="other_tools.html"
                        title="previous chapter">Sensor Test application <code class="docutils literal"><span class="pre">sensor_test</span></code></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="vision_tuning.html"
                        title="next chapter">VisionTuning</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
<div class="footer">
        &copy; Imagination Technologies
    - Strictly Confidential - External
    <br>
     Built on Fri, 05 Aug 2016 13:03:49
    - Revision: <a href="#">4173926</a>
    - <a href="../index/../_pdf/manual.pdf">Printable version</a>
</div>

<!-- Embed tables in a scroller-div -->
<script type="text/javascript">
    $( "table.docutils" ).wrap( "<div class='docutils-scroller'></div>" );
</script>
<!-- End Embed tables in a scroller-div -->

<!-- Back-to-top -->
<a href="#" class="back-to-top">&#8593; TOP</a>
<script>            
    jQuery(document).ready(function() {
    var offset = 220;
        var duration = 500;
        jQuery(window).scroll(function() {
            if (jQuery(this).scrollTop() > offset) {
                jQuery('.back-to-top').fadeIn(duration);
            } else {
                jQuery('.back-to-top').fadeOut(duration);
            }
        });

        jQuery('.back-to-top').click(function(event) {
            event.preventDefault();
            jQuery('html, body').animate({scrollTop: 0}, duration);
            return false;
        })
    });
</script>
<!-- End Back-to-top -->
  </body>
</html>